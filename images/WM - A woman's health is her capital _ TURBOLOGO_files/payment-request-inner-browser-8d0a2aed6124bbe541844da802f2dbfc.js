webpackJsonp([9],{6:function(e,t,n){n("hC4F"),e.exports=n("P7YZ")},P7YZ:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n("iC45"),i=n("11CF"),s=n("kSHn"),u=n("Hu9M"),l=n("x38n"),c=n("afZ+"),p=n("3z7h"),d=n("w+Lg"),h=n("Bilh"),m=n("GoB1"),y=n("kU+X"),f=function(){if(!window.PaymentRequest)return null;if(/CriOS\/59/.test(navigator.userAgent))return null;if(/.*\(.*; wv\).*Chrome\/(?:53|54)\.\d.*/g.test(navigator.userAgent))return null;if(y.k)return null;var e=window.PaymentRequest;return e.prototype.canMakePayment||(e.prototype.canMakePayment=function(){return s.a.resolve(!1)}),e}(),_=n("wV6Z"),b=n("B4vs"),g=n("oTrx"),v=n("ZBjb"),O=n("NEHP"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(e,t){var n=e.amount,r=e.label,o=e.pending,a=t.currency;return{amount:{value:Object(_.a)(n,a),currency:a.toUpperCase()},label:r,pending:!!o}},P=function(e,t){var n=e.amount,r=e.label,o=e.detail,a=e.id,i=t.currency;return{amount:{value:Object(_.a)(n,i),currency:i.toUpperCase()},label:o?r+" â€” "+o:r,id:a}},j=function(e){return function(t){return t[e]||null}},E={total:function(e){return q(e.total,e)},displayItems:function(e){return e.displayItems?e.displayItems.map(function(t){return q(t,e)}):[]},shippingOptions:function(e,t){var n=e.shippingOptions;if(!n)return[];var r=Object(g.b)(n,function(e){return!!t&&e.id===t.shippingOption}),o=r||n[0];return n.map(function(t){var n=P(t,e);return o===t?w({},n,{selected:!0}):w({},n,{selected:!1})})}},A={requestPayerEmail:j("requestPayerEmail"),requestPayerName:j("requestPayerName"),requestPayerPhone:j("requestPayerPhone"),requestShipping:j("requestShipping"),shippingType:j("shippingType")},k=w({},E,{error:function(e){return"success"===e.status?void 0:Object(v.a)("auto","errors.payment_request.invalid_shipping_address")}}),R={status:function(e){return"success"===e.status?"success":"fail"}},N=function(e){return function(t,n){var r={};return Object.keys(e).forEach(function(o){var a=e[o],i=a(t,n);null!==i&&(r[o]=i)}),r}},C=N(E),S=N(A),M=N(R),T=function(e,t){var n=N(k)(e,t),r=n.error,a=n.shippingOptions,i=o(n,["error","shippingOptions"]);return r?w({error:r},i):w({shippingOptions:a},i)},I=function(e,t){var n=e.apiKey,o=e.accountId,a=o?n+"/"+o:n,i=Object(b.b)(a)===b.a.test?{environment:"TEST"}:{},s=t.country,u=t.jcbEnabled,l=t.__ignoreGooglePay,c=Object(O.b)(s,u||!1),p=[{supportedMethods:["basic-card"],data:w({},i,{supportedNetworks:c})}];if(!l){var d=Object(O.a)(s,u||!1);p=[].concat(r(p),[{supportedMethods:["https://google.com/pay"],data:w({},i,{merchantId:"09511744644598700896",apiVersion:1,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],cardRequirements:{allowedCardNetworks:d,billingAddressRequired:!0,billingAddressFormat:"FULL"},paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:publishableKey":a,"stripe:version":"Stripe.js/PayWithGoogle"}}})},{supportedMethods:["https://android.com/pay"],data:w({},i,{merchantId:"09511744644598700896",allowedCardNetworks:d,billingAddressRequired:!0,billingAddressFormat:"FULL",paymentMethodTokenizationParameters:{tokenizationType:"GATEWAY_TOKEN",parameters:{gateway:"stripe","stripe:publishableKey":a,"stripe:version":"Stripe.js/AndroidPay"}}})}])}return y.c&&(p=[].concat(r(p),[{supportedMethods:["ms-merchant-info"],data:{displayOrigin:document.referrer}}])),p},x=function(e,t,n){var r=w({},m.a,t);return{methods:I(e,r),details:C(r,n),options:S(r,n)}},L=x,B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z=function(e){if(e&&"object"===(void 0===e?"undefined":B(e))&&Array.isArray(e.addressLine)){return{address_line1:e.addressLine[0],address_line2:e.addressLine.slice(1).join(", "),address_city:e.city,address_zip:e.postalCode,address_state:e.region,address_country:e.country}}return{}},F=function(e){if(e&&"object"===(void 0===e?"undefined":B(e))&&e.address1){return{name:e.name,address:{line1:e.address1,line2:[e.address2,e.address3,e.address4,e.address5].filter(function(e){return e}).join(", "),city:e.locality,postal_code:e.postalCode,state:e.administrativeArea,country:e.countryCode}}}return{}},Y=function(e){return{addressLine:e.addressLine,city:e.city||"",country:e.country||"",dependentLocality:e.dependentLocality||"",organization:e.organization||"",phone:e.phone||"",postalCode:e.postalCode||"",recipient:e.recipient||"",region:e.region||"",sortingCode:e.sortingCode||""}},D=function(e,t){return{shippingOption:t.shippingOptions?t.shippingOptions.filter(function(t){return t.id===e.shippingOption})[0]||null:null,shippingAddress:e.shippingAddress?Y(e.shippingAddress):null,payerEmail:e.payerEmail||null,payerPhone:e.payerPhone||null,payerName:e.payerName||null,methodName:e.methodName}},K=function(e,t){return{shippingOption:e.shippingOption&&t.shippingOptions?t.shippingOptions.filter(function(t){return t.id===e.shippingOption})[0]||null:null,shippingAddress:e.shippingAddress||null}},U=D,Z=n("YU9a"),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H=Object(a.v)({authentication:Object(a.v)({apiKey:a.x,accountId:Object(a.t)(a.x)}),mids:Object(a.t)(p.a),controllerId:a.x,origin:Object(a.t)(a.x),referrer:Object(a.t)(a.x)}),J=function(){function e(e){var t=this;V.call(this);var n=Object(a.D)(H,Object(i.a)(e),"Payment Request API"),r=n.value,o=n.warnings,s=r.controllerId,u=r.authentication,l=r.mids;this._authentication=u,this._mids=l||null,this._controller=new h.a(s),this._isShowing=!1,this._usesButtonElement=null,o.forEach(function(e){return t._controller.warn(e)}),this._controller._on("initialize",function(e){var n=Object(a.D)(m.c,e,"Payment Request API"),r=n.value;n.warnings.forEach(function(e){return t._controller.warn(e)});var o=Object(m.b)(r);t._setupPaymentRequest(o)}),this._controller._on("frame-action",function(e){var n=e.type,r=e.complete;switch(n){case Z.c.CAN_MAKE_PAYMENT:if(t._pr){var o=function(e){t._report("payreq.can_make_payment_native_response",{available:e}),r({available:e})},a=function(e){t._controller.warn("We were rate-limited from checking if your requested Payment Request options are allowed. Please test again before going live."),t._report("error.payreq.can_make_payment_rate_limited",{message:e.message}),r({available:!0})};t._pr.hasEnrolledInstrument?t._pr.hasEnrolledInstrument().then(o).catch(a):t._pr.canMakePayment().then(o).catch(a)}else r({available:!1})}}),this._controller.event("load")}return W(e,[{key:"_setupPaymentRequest",value:function(e){var t=this;this._pr=null,this._isShowing=!1,this._controller._off("abort"),this._controller._off("show"),this._controller._off("update"),this._paymentRequestOptions=e;var n=L(this._authentication,this._paymentRequestOptions,null),r=n.details,o=n.options,i=n.methods;if(f)try{this._pr=new f(i,r,o)}catch(e){}var s=void 0;if(!this._pr)return void this._report("payreq.no_pr_object");s=this._pr,["shippingaddresschange","shippingoptionchange"].forEach(function(e){s.addEventListener(e,t._handleEvent(s,e))});var c=function(){return s.abort()},p=function(e){if(t._usesButtonElement=e.usesButtonElement,t._isShowing)throw new l.a("Already called show() once.");t._isShowing=!0,s.show().then(t._handlePayment(s)).then(u.b,t._handleCancel(s)).then(function(){t._setupPaymentRequest(t._paymentRequestOptions)}).catch(function(e){t._report("fatal.payreq.unexpected_error",{error:e.message})})},d=function(e){if(t._isShowing)throw new l.a("You cannot update Payment Request options while the payment sheet is showing.");var n=Object(a.D)(m.d,e,"Payment Request API"),r=n.value;n.warnings.forEach(function(e){return t._controller.warn(e)});var o=Object(m.f)(t._paymentRequestOptions,r);t._setupPaymentRequest(o)};this._controller._on("abort",c),this._controller._on("show",p),this._controller._on("update",d)}}]),e}(),V=function(){var e=this;this._report=function(t,n){e._controller.report(t,G({},n,null!==e._usesButtonElement?{usesButtonElement:e._usesButtonElement}:{},{impl:"prapi"}))},this._handleEvent=function(t,n){return function(r){r.updateWith(e._controller.waitForCallback(n,K(t,e._paymentRequestOptions)).then(function(r){var o=Object(a.D)(m.e,r,n+" callback"),i=o.value;return o.warnings.forEach(function(t){return e._controller.warn(t)}),e._paymentRequestOptions=Object(m.f)(e._paymentRequestOptions,i),T(e._paymentRequestOptions,t)}))}},this._handleCancel=function(){return function(t){e._controller.event("pr-cancel"),e._report("payreq.show_rejected",{error:t.message})}},this._handlePayment=function(t){return function(n){e._report("payreq.paymentauthorized",{method:n.methodName});var r=void 0;if("basic-card"===n.methodName){var o=n.details,i=o.cardNumber,s=o.cardSecurityCode,u=o.cardholderName,l=o.expiryMonth,p=o.expiryYear;r=e._controller.unsafeAction(d.d.TOKENIZE,G({},z(o.billingAddress),{type:"card",name:u,email:n.payerEmail||void 0,card:{number:i,cvc:s,exp_year:p,exp_month:l},elementName:e._usesButtonElement?c.a.paymentRequestButton:void 0,mids:e._mids})).then(function(t){if("object"===t.type){var r=t.object;return e._controller.waitForCallback("token",G({},U(n,e._paymentRequestOptions),{token:r}))}return e._controller.event("pr-error",{error:t.error}),{status:"fail"}})}else if("https://google.com/pay"===n.methodName)r=e._controller.waitForCallback("token",G({},U(n,e._paymentRequestOptions),{token:JSON.parse(n.details.paymentMethodToken.token),_privateOwner:F(n.details.cardInfo.billingAddress)}));else{if("https://android.com/pay"!==n.methodName)throw e._report("fatal.payreq.unexpected_payment_method",{method:n.methodName}),new Error("Unexpected PaymentRequest payment method: "+n.methodName);r=e._controller.waitForCallback("token",G({},U(n,e._paymentRequestOptions),{token:JSON.parse(n.details.paymentMethodToken),_privateOwner:F(n.details.billingAddress)}))}return r.then(function(r){var o=Object(a.D)(m.e,r,"complete callback"),i=o.value;o.warnings.forEach(function(t){return e._controller.warn(t)}),e._paymentRequestOptions=Object(m.f)(e._paymentRequestOptions,i);var s=M(e._paymentRequestOptions,t);n.complete(s.status)})}}},X=J;!function(){var e=window.location.hash.substring(1).split("?")[0];new X(e)}()}},[6]);